<div class="p-grid">
  <div class="card card-w-title">
    <p-confirmDialog
      [style]="{ width: '50vw' }"
      [baseZIndex]="10000"
    ></p-confirmDialog>

    <p-messages [value]="msgs"></p-messages>

    <div class="p-col-2" style="margin-bottom: 10px">
      <p-button
        label="Add"
        icon="pi pi-plus"
        class="p-button-sm"
        (click)="nuevoItem()"
      ></p-button>
    </div>

    <p-table
      #dt
      [value]="items"
      [rowHover]="true"
      [rows]="pageSize"
      [showCurrentPageReport]="true"
      [rowsPerPageOptions]="[5, 10, 20]"
      [loading]="loading"
      [paginator]="true"
      [filterDelay]="0"
      [globalFilterFields]="['title', '_about', 'accessURL']"
    >
      <ng-template pTemplate="caption">
        <div class="table-header" style="text-align: center">List of Items</div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="title" style="text-align: center; width: 20%">
            Title<p-sortIcon field="title"></p-sortIcon>
          </th>
          <th pSortableColumn="_about" style="text-align: center">
            About<p-sortIcon field="_about"></p-sortIcon>
          </th>
          <th pSortableColumn="accessURL" style="text-align: center">
            AccessURL<p-sortIcon field="accessURL"></p-sortIcon>
          </th>
          <th style="text-align: center; width: 15%">Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item let-index="rowIndex">
        <tr>
          <td style="text-align: center">{{ item.title }}</td>
          <td style="text-align: center">{{ item._about }}</td>
          <td style="text-align: center">{{ item.accessURL }}</td>
          <td style="text-align: center">
            <button
              pButton
              pRipple
              type="button"
              icon="pi pi-cog"
              class="p-button-rounded p-button-secondary"
              style="margin-right: 2px"
              (click)="editItem(index)"
            ></button>
            <button
              pButton
              pRipple
              type="button"
              icon="pi pi-trash"
              class="p-button-rounded p-button-danger"
              (click)="deleteItem(index)"
            ></button>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="4" style="text-align: left">No items found.</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
